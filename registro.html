<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Directorio de Hospedajes</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f8f9fa;
      color: #333;
    }

    header {
      background-color: #5C6BC0;
      color: white;
      padding: 20px;
      text-align: center;
    }

    header h1 {
      font-size: 1.4em;
    }


    .nav-button {
      display: inline-block;
      margin-top: 12px;
      padding: 10px 20px;
      background-color: white;
      color: #007bff;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    .nav-button:hover {
      background-color: #e2e6ea;
    }

    main {
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #2c3e50;
    }

   

    .org-label {
  font-style: italic;
  font-size: 0.9em;
  color: #555;
}

    details {
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    summary {
      font-weight: bold;
      font-size: 1.1em;
      padding: 12px 16px;
      background-color: #e9ecef;
      cursor: pointer;
      border-bottom: 1px solid #ccc;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.95em;
    }

    th, td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: left;
      vertical-align: top;
    }

    th {
      background-color: #fb7185;
      font-weight: 600;
    }

    @media screen and (max-width: 600px) {
      table, th, td {
        font-size: 0.85em;
      }

summary span {
  font-style: italic;
  font-size: 0.85em;
  font-weight: 300;
  color: #555;
}

      .nav-button {
        padding: 8px 16px;
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>Banco de Aprecios Postcapitalista</h1>
    <a href="index.html" class="nav-button">Volver al inicio</a>
  </header>

  <h2>REGISTRO DE INTERCAMBIOS</h2>

  <label for="from">TU NOMBRE</label>
  <select id="from"></select>

  <label for="to">NOMBRE DE QUIEN SOLICITAS EL APRECIO</label>
  <select id="to"></select>

  <label for="points">CANTIDAD DE HORAS</label>
  <input type="number" id="points" min="0" />

  <label for="comment">COMENTARIOS</label>
  <textarea id="comment" rows="4"></textarea>

  <button onclick="transferPoints()">Aceptar</button>

  <div class="error" id="error"></div>

  <h2>Movimientos</h2>
  <table id="logTable">
    <thead>
      <tr><th>De</th><th>Para</th><th>Horas</th><th>Comentario</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <h2>Horas Totales</h2>
  <table id="scoreTable">
    <thead>
      <tr><th>Nombre</th><th>Puntos</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const names = [
      "Alejandra Alfaro Villeda", "Alejandra Maldonado Esquer", "Álvaro Salgado Ramírez",
      "Argelia Torres Rivera", "Claudia Yadira Caballero Borja", "Emilia Cristina González Machado",
      "Eric Chaves Ramírez", "Ernesto Israel Santillán Anguiano", "Grisel Pérez Villafuerte",
      "Ivonne Abigail Vázquez Hernández", "Juan Solano Abadía", "Julio Gisbert",
      "Mar Daza Quintanilla", "María de Lourdes Sansores Cárdenas", "María Elena Méndez López",
      "Miguel Carlos Esquivel Pineda", "Nizarindandi Picasso Domínguez", "Omar Felipe Giraldo",
      "Olivia Sylvester", "Pablo Vicente Gómez Lauría", "Paulino Alexandro Velarde Espinoza",
      "Quetzalli Ocampo Quinto", "Rosa Elva Zúñiga López", "Saharai Martínez Arellano"
    ];

    const scores = {};
    names.forEach(name => scores[name] = 5);

    const fromSelect = document.getElementById("from");
    const toSelect = document.getElementById("to");
    names.forEach(name => {
      const option1 = document.createElement("option");
      option1.value = name;
      option1.textContent = name;
      fromSelect.appendChild(option1);

      const option2 = document.createElement("option");
      option2.value = name;
      option2.textContent = name;
      toSelect.appendChild(option2);
    });

    function updateScoreTable() {
      const tbody = document.querySelector("#scoreTable tbody");
      tbody.innerHTML = "";
      for (const name of names) {
        const row = document.createElement("tr");
        row.innerHTML = `<td>${name}</td><td>${scores[name]}</td>`;
        tbody.appendChild(row);
      }
    }

    function transferPoints() {
      const from = fromSelect.value;
      const to = toSelect.value;
      const points = parseInt(document.getElementById("points").value);
      const comment = document.getElementById("comment").value.trim();
      const errorDiv = document.getElementById("error");
      errorDiv.textContent = "";

      if (from === to) {
        errorDiv.textContent = "No puedes regalar puntos a ti mismo.";
        return;
      }

      if (isNaN(points) || points === 0 || points < -10) {
        errorDiv.textContent = "Ingresa un número válido de puntos (positivo o hasta -10).";
        return;
      }

      if (scores[from] < points) {
        errorDiv.textContent = "No tienes suficientes puntos para regalar.";
        return;
      }

      scores[from] -= points;
      scores[to] += points;

      const logRow = document.createElement("tr");
      logRow.innerHTML = `<td>${from}</td><td>${to}</td><td>${points}</td><td>${comment}</td>`;
      document.querySelector("#logTable tbody").appendChild(logRow);

      updateScoreTable();
    }

    updateScoreTable();
  </script>

</body>
</html>
